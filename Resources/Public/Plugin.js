(()=>{var nt=Object.create;var S=Object.defineProperty;var ot=Object.getOwnPropertyDescriptor;var it=Object.getOwnPropertyNames;var at=Object.getPrototypeOf,st=Object.prototype.hasOwnProperty;var ct=(t,r)=>()=>(t&&(r=t(t=0)),r);var R=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var ut=(t,r,o,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of it(r))!st.call(t,s)&&s!==o&&S(t,s,{get:()=>r[s],enumerable:!(i=ot(r,s))||i.enumerable});return t};var U=(t,r,o)=>(o=t!=null?nt(at(t)):{},ut(r||!t||!t.__esModule?S(o,"default",{value:t,enumerable:!0}):o,t));function F(t){return(...r)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${t}`])return window["@Neos:HostPluginAPI"][`@${t}`](...r);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var L=ct(()=>{});var j=R((jt,P)=>{L();P.exports=F("vendor")().React});var _=R((Rt,K)=>{L();K.exports=F("NeosProjectPackages")().NeosUiDecorators});L();var T=F("manifest");var a=U(j()),tt=U(_());var u=U(j());function gt(t,r,o){var i=this,s=(0,u.useRef)(null),I=(0,u.useRef)(0),l=(0,u.useRef)(null),m=(0,u.useRef)([]),A=(0,u.useRef)(),X=(0,u.useRef)(),Z=(0,u.useRef)(t),x=(0,u.useRef)(!0);Z.current=t;var O=typeof window<"u",e=!r&&r!==0&&O;if(typeof t!="function")throw new TypeError("Expected a function");r=+r||0;var v=!!(o=o||{}).leading,z=!("trailing"in o)||!!o.trailing,w="maxWait"in o,f="debounceOnServer"in o&&!!o.debounceOnServer,Y=w?Math.max(+o.maxWait||0,r):null;(0,u.useEffect)(function(){return x.current=!0,function(){x.current=!1}},[]);var k=(0,u.useMemo)(function(){var B=function(g){var c=m.current,b=A.current;return m.current=A.current=null,I.current=g,X.current=Z.current.apply(b,c)},y=function(g,c){e&&cancelAnimationFrame(l.current),l.current=e?requestAnimationFrame(g):setTimeout(g,c)},D=function(g){if(!x.current)return!1;var c=g-s.current;return!s.current||c>=r||c<0||w&&g-I.current>=Y},J=function(g){return l.current=null,z&&m.current?B(g):(m.current=A.current=null,X.current)},C=function g(){var c=Date.now();if(D(c))return J(c);if(x.current){var b=r-(c-s.current),Q=w?Math.min(b,Y-(c-I.current)):b;y(g,Q)}},G=function(){if(O||f){var g=Date.now(),c=D(g);if(m.current=[].slice.call(arguments),A.current=i,s.current=g,c){if(!l.current&&x.current)return I.current=s.current,y(C,r),v?B(s.current):X.current;if(w)return y(C,r),B(s.current)}return l.current||y(C,r),X.current}};return G.cancel=function(){l.current&&(e?cancelAnimationFrame(l.current):clearTimeout(l.current)),I.current=0,m.current=s.current=A.current=l.current=null},G.isPending=function(){return!!l.current},G.flush=function(){return l.current?J(Date.now()):X.current},G},[v,w,r,Y,z,e,O,f]);return k}function dt(t,r){return t===r}function $(t,r,o){var i=o&&o.equalityFn||dt,s=(0,u.useRef)(t),I=(0,u.useState)({})[1],l=gt((0,u.useCallback)(function(A){s.current=A,I({})},[I]),r,o),m=(0,u.useRef)(t);return i(m.current,t)||(l(t),m.current=t),[s.current,l]}var p={editorValueSingle:"carbon-rangeeditor-6mQFcW-editorValueSingle",textfieldGap:"carbon-rangeeditor-6mQFcW-textfieldGap",valueLabel:"carbon-rangeeditor-6mQFcW-valueLabel",slider:"carbon-rangeeditor-6mQFcW-slider",editorValue:"carbon-rangeeditor-6mQFcW-editorValue",sliderHighlight:"carbon-rangeeditor-6mQFcW-sliderHighlight",editorDisabled:"carbon-rangeeditor-6mQFcW-editorDisabled",textfield:"carbon-rangeeditor-6mQFcW-textfield"};function q(t){var r,o,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(o=q(t[r]))&&(i&&(i+=" "),i+=o)}else for(o in t)t[o]&&(i&&(i+=" "),i+=o);return i}function bt(){for(var t,r,o=0,i="",s=arguments.length;o<s;o++)(t=arguments[o])&&(r=q(t))&&(i&&(i+=" "),i+=r);return i}var V=bt;var It=(0,tt.neos)(t=>({i18nRegistry:t.get("i18n"),config:t.get("frontendConfiguration").get("Carbon.RangeEditor")})),mt={min:0,max:100,step:1,unit:"",showMinLabel:!0,showMaxLabel:!0,minLabel:null,maxLabel:null,disabled:!1,showInput:!0,valueLabelsFile:"",valueLabels:{}};function ft({value:t,id:r,highlight:o,i18nRegistry:i,onEnterKey:s,onKeyDown:I,onKeyPress:l,commit:m,...A}){let X=Ct(),[Z,x]=(0,a.useState)(t),[O]=$(Z,500),e={...mt,...A.options},v=e.ratio==!0&&e.unit=="%"&&e.min>=0&&e.max<=100,z=(0,a.useRef)(null),w=n=>{f(n.target.value)};(0,a.useEffect)(()=>{if(O!=t){let{step:n,min:W}=e,h=parseFloat(O),d=n-(h-W)%n;(d==0||d==n)&&(d=0),d>n/2&&(d=d-n);let H=Math.min(e.max,Math.max(e.min,h+d));f(H)}},[O]);let f=n=>{x(n),n=(e.step||1)%1===0?parseInt(n,10):parseFloat(n,10),!isNaN(n)&&(n=Math.min(e.max,Math.max(e.min,n)),m(n),X())},Y=n=>{if(typeof l=="function"&&l(n),n.key==="Enter"&&typeof s=="function"){s();return}},k=n=>{typeof I=="function"&&I(n);let W=n.key,h=W=="ArrowUp";if(W=="ArrowDown"||h){let d=e.step,{metaKey:H,shiftKey:rt}=n;if(d=d*(rt?10:H?100:1),h){f(Math.min(t+d,e.max)),n.preventDefault();return}f(Math.max(t-d,e.min)),n.preventDefault();return}},B=t||"0",y=n=>n.toString().length,D=y(e.step)-1,J=Math.max(y(e.min),y(e.max))+D+"ch",C=e.unit?i.translate(e.unit):"",{valueLabels:G,valueLabelsFile:g,showInput:c}=e,b=pt(t,e.min,e.max);e.showMinLabel||(b=b||t===e.min),e.showMaxLabel||(b=b||t===e.max);let Q=n=>G&&G[n]?G[n]:g?`${g}:${n}`:null,M=(n,W)=>{if(n<=e.min){let h=!c||W?e.min+C:null,d=e.minLabel||Q(e.min)||h;return i.translate(d)}if(n>=e.max){let h=!c||W?e.max+C:null,d=e.maxLabel||Q(e.max)||h;return i.translate(d)}return i.translate(Q(n))},N=M(t);return a.default.createElement("div",{className:V(p.editor,e.disabled&&p.editorDisabled)},a.default.createElement("input",{type:"range",id:!v&&!N&&c?null:r,min:e.min,max:e.max,step:e.step,value:B,className:V(p.slider,o&&p.sliderHighlight),onChange:w,onKeyDown:k,onKeyPress:Y,disabled:e.disabled}),a.default.createElement("div",{className:V(p.editorValue,!e.showMinLabel&&!e.showMaxLabel&&p.editorValueSingle)},v?a.default.createElement(a.default.Fragment,null,a.default.createElement("button",{type:"button",title:i.translate("Neos.Neos.Ui:Main:rangeEditorMinimum"),onClick:()=>f(e.min),disabled:e.disabled},B,"%"),a.default.createElement("button",{type:"button",title:i.translate("Neos.Neos.Ui:Main:rangeEditorMaximum"),onClick:()=>f(e.max),disabled:e.disabled},100-t,"%")):a.default.createElement(a.default.Fragment,null,e.showMinLabel&&a.default.createElement("button",{type:"button",title:i.translate("Neos.Neos.Ui:Main:rangeEditorMinimum"),onClick:()=>f(e.min),style:{opacity:!c&&e.min>=t?1:.7},disabled:e.disabled},M(e.min,!0)),!b&&!c&&a.default.createElement("span",null,"\xA0"),N&&b&&a.default.createElement("span",{className:p.valueLabel},N),!N&&c&&a.default.createElement("span",{className:V(p.textfield,!!C&&C.toString().startsWith(" ")&&p.textfieldGap),onClick:()=>{z?.current?.focus()}},a.default.createElement("input",{id:r,title:i.translate("Neos.Neos.Ui:Main:rangeEditorCurrentValue"),type:"text",onKeyDown:k,onKeyPress:n=>{Y(n),isNaN(n.key)&&n.preventDefault()},onChange:n=>x(n.target.value),value:Z||"0",style:{width:J},disabled:e.disabled,ref:z}),C&&a.default.createElement("span",null,C.toString().trim())),!N&&b&&!c&&a.default.createElement("span",null,B,C),e.showMaxLabel&&a.default.createElement("button",{type:"button",title:i.translate("Neos.Neos.Ui:Main:rangeEditorMaximum"),onClick:()=>f(e.max),style:{opacity:!c&&e.max<=t?1:.7},disabled:e.disabled},M(e.max,!0)))))}function Ct(){let[,t]=(0,a.useState)(0);return()=>t(r=>r+1)}function pt(t,r,o){return t>r&&t<o}var et=It(ft);T("Carbon.RangeEditor:Editor",{},t=>{t.get("inspector").get("editors").set("Carbon.RangeEditor/Editor",{component:et})});})();
//# sourceMappingURL=Plugin.js.map
