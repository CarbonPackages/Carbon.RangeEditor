(()=>{var K=Object.create;var D=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var $=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,ee=Object.prototype.hasOwnProperty;var te=(e,r)=>()=>(e&&(r=e(e=0)),r);var k=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var re=(e,r,o,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of $(r))!ee.call(e,a)&&a!==o&&D(e,a,{get:()=>r[a],enumerable:!(s=_(r,a))||s.enumerable});return e};var N=(e,r,o)=>(o=e!=null?K(q(e)):{},re(r||!e||!e.__esModule?D(o,"default",{value:e,enumerable:!0}):o,e));function G(e){return(...r)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${e}`])return window["@Neos:HostPluginAPI"][`@${e}`](...r);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var z=te(()=>{});var L=k((Ne,S)=>{z();S.exports=G("vendor")().React});var j=k((De,U)=>{z();U.exports=G("NeosProjectPackages")().NeosUiDecorators});z();var J=G("manifest");var c=N(L()),P=N(j());var u=N(L());function oe(e,r,o){var s=this,a=(0,u.useRef)(null),I=(0,u.useRef)(0),g=(0,u.useRef)(null),b=(0,u.useRef)([]),t=(0,u.useRef)(),y=(0,u.useRef)(),Y=(0,u.useRef)(e),d=(0,u.useRef)(!0);Y.current=e;var V=typeof window<"u",w=!r&&r!==0&&V;if(typeof e!="function")throw new TypeError("Expected a function");r=+r||0;var O=!!(o=o||{}).leading,F=!("trailing"in o)||!!o.trailing,x="maxWait"in o,X="debounceOnServer"in o&&!!o.debounceOnServer,A=x?Math.max(+o.maxWait||0,r):null;(0,u.useEffect)(function(){return d.current=!0,function(){d.current=!1}},[]);var Z=(0,u.useMemo)(function(){var v=function(n){var i=b.current,l=t.current;return b.current=t.current=null,I.current=n,y.current=Y.current.apply(l,i)},f=function(n,i){w&&cancelAnimationFrame(g.current),g.current=w?requestAnimationFrame(n):setTimeout(n,i)},C=function(n){if(!d.current)return!1;var i=n-a.current;return!a.current||i>=r||i<0||x&&n-I.current>=A},B=function(n){return g.current=null,F&&b.current?v(n):(b.current=t.current=null,y.current)},W=function n(){var i=Date.now();if(C(i))return B(i);if(d.current){var l=r-(i-a.current),m=x?Math.min(l,A-(i-I.current)):l;f(n,m)}},p=function(){if(V||X){var n=Date.now(),i=C(n);if(b.current=[].slice.call(arguments),t.current=s,a.current=n,i){if(!g.current&&d.current)return I.current=a.current,f(W,r),O?v(a.current):y.current;if(x)return f(W,r),v(a.current)}return g.current||f(W,r),y.current}};return p.cancel=function(){g.current&&(w?cancelAnimationFrame(g.current):clearTimeout(g.current)),I.current=0,b.current=a.current=t.current=g.current=null},p.isPending=function(){return!!g.current},p.flush=function(){return g.current?B(Date.now()):y.current},p},[O,x,r,A,F,w,V,X]);return Z}function ie(e,r){return e===r}function H(e,r,o){var s=o&&o.equalityFn||ie,a=(0,u.useRef)(e),I=(0,u.useState)({})[1],g=oe((0,u.useCallback)(function(t){a.current=t,I({})},[I]),r,o),b=(0,u.useRef)(e);return s(b.current,e)||(g(e),b.current=e),[a.current,g]}var h={slider:"carbon-rangeeditor-6mQFcW-slider",editorValueSingle:"carbon-rangeeditor-6mQFcW-editorValueSingle",sliderHighlight:"carbon-rangeeditor-6mQFcW-sliderHighlight",editorDisabled:"carbon-rangeeditor-6mQFcW-editorDisabled",editorValue:"carbon-rangeeditor-6mQFcW-editorValue",valueLabel:"carbon-rangeeditor-6mQFcW-valueLabel"};function E(e){var r,o,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(r=0;r<a;r++)e[r]&&(o=E(e[r]))&&(s&&(s+=" "),s+=o)}else for(o in e)e[o]&&(s&&(s+=" "),s+=o);return s}function ae(){for(var e,r,o=0,s="",a=arguments.length;o<a;o++)(e=arguments[o])&&(r=E(e))&&(s&&(s+=" "),s+=r);return s}var Q=ae;var se=(0,P.neos)(e=>({i18nRegistry:e.get("i18n"),config:e.get("frontendConfiguration").get("Carbon.RangeEditor")})),ce={options:{min:0,max:100,step:1,unit:"",showMinLabel:!0,showMaxLabel:!0,minLabel:null,maxLabel:null,disabled:!1,showInput:!0,valueLabelsFile:"",valueLabels:{}}};function ue(e){let r=ge(),{value:o,highlight:s,i18nRegistry:a}=e,[I,g]=(0,c.useState)(o),[b]=H(I,500),t={...ce.options,...e.options},y=t.ratio==!0&&t.unit=="%"&&t.min>=0&&t.max<=100,Y=n=>{d(n.target.value)};(0,c.useEffect)(()=>{if(b!=o){let{step:n,min:i}=t,l=parseFloat(b),m=n-(l-i)%n;(m==0||m==n)&&(m=0),m>n/2&&(m=m-n);let T=Math.min(t.max,Math.max(t.min,l+m));d(T)}},[b]);let d=n=>{g(n);let{options:i}=e;n=(i.step||1)%1===0?parseInt(n,10):parseFloat(n,10),!isNaN(n)&&(n=Math.min(i.max,Math.max(i.min,n)),e.commit(n),r())},V=n=>{isNaN(n.key)&&n.preventDefault()},w=n=>{let i=n.key,l=t.step;i=="ArrowUp"||i=="ArrowDown"?l*=10:(i=="PageUp"||i=="PageDown")&&(l*=100),i=="PageUp"||i=="ArrowUp"||i=="ArrowRight"?(d(Math.min(o+l,t.max)),n.preventDefault()):(i=="PageDown"||i=="ArrowDown"||i=="ArrowLeft")&&(d(Math.max(o-l,t.min)),n.preventDefault())},O=o||"0",F=n=>n.toString().length,x=F(t.step)-1,X=Math.max(F(t.min),F(t.max))+x+"ch",A=t.unit?a.translate(t.unit):"",{valueLabels:Z,valueLabelsFile:v,showInput:f}=t,C=le(o,t.min,t.max);t.showMinLabel||(C=C||o===t.min),t.showMaxLabel||(C=C||o===t.max);let B=n=>Z&&Z[n]?Z[n]:v?`${v}:${n}`:null,W=(n,i)=>{if(n<=t.min){let l=!f||i?t.min+A:null,m=t.minLabel||B(t.min)||l;return a.translate(m)}if(n>=t.max){let l=!f||i?t.max+A:null,m=t.maxLabel||B(t.max)||l;return a.translate(m)}return a.translate(B(n))},p=W(o);return c.default.createElement("div",{className:Q(h.editor,t.disabled&&h.editorDisabled)},c.default.createElement("input",{type:"range",min:t.min,max:t.max,step:t.step,value:O,className:Q(h.slider,s&&h.sliderHighlight),onChange:Y,disabled:t.disabled}),c.default.createElement("div",{className:Q(h.editorValue,!t.showMinLabel&&!t.showMaxLabel&&h.editorValueSingle)},y?c.default.createElement(c.default.Fragment,null,c.default.createElement("button",{type:"button",title:a.translate("Neos.Neos.Ui:Main:rangeEditorMinimum"),onClick:()=>d(t.min),disabled:t.disabled},O,"%"),c.default.createElement("button",{type:"button",title:a.translate("Neos.Neos.Ui:Main:rangeEditorMaximum"),onClick:()=>d(t.max),disabled:t.disabled},100-o,"%")):c.default.createElement(c.default.Fragment,null,t.showMinLabel&&c.default.createElement("button",{type:"button",title:a.translate("Neos.Neos.Ui:Main:rangeEditorMinimum"),onClick:()=>d(t.min),style:{opacity:!f&&t.min>=o?1:.7},disabled:t.disabled},W(t.min,!0)),!C&&!f&&c.default.createElement("span",null,"\xA0"),p&&C&&c.default.createElement("span",{className:h.valueLabel},p),!p&&f&&c.default.createElement("span",null,c.default.createElement("input",{title:a.translate("Neos.Neos.Ui:Main:rangeEditorCurrentValue"),type:"text",onKeyDown:w,onKeyPress:V,onChange:n=>g(n.target.value),value:I||"0",style:{width:X},disabled:t.disabled}),A),!p&&C&&!f&&c.default.createElement("span",null,O,A),t.showMaxLabel&&c.default.createElement("button",{type:"button",title:a.translate("Neos.Neos.Ui:Main:rangeEditorMaximum"),onClick:()=>d(t.max),style:{opacity:!f&&t.max<=o?1:.7},disabled:t.disabled},W(t.max,!0)))))}function ge(){let[,e]=(0,c.useState)(0);return()=>e(r=>r+1)}function le(e,r,o){return e>r&&e<o}var R=se(ue);J("Carbon.RangeEditor:Editor",{},e=>{e.get("inspector").get("editors").set("Carbon.RangeEditor/Editor",{component:R})});})();
//# sourceMappingURL=Plugin.js.map
